<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>GitHub Solar System</title>
  <style>
    body {
      background-color: #000;
      overflow: hidden;
      margin: 0;
      font-family: Arial, sans-serif;
      color: white;
    }

    .solar-system {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .sun {
      width: 100px;
      height: 100px;
      background-image: url('https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png');
      background-size: cover;
      background-position: center;
      border-radius: 50%;
      position: absolute;
      z-index: 10;
    }

    .sun:hover::after {
      content: 'SHISKEBAB';
      position: absolute;
      top: 110%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(255, 255, 255, 0.9);
      color: black;
      padding: 6px 10px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: bold;
    }

    .orbit {
      position: absolute;
      border: 1px dashed rgba(255, 255, 255, 0.3);
      border-radius: 50%;
    }

    .planet {
      border-radius: 50%;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: left;
      color: #000;
      font-size: 13px;
      padding: 10px;
      overflow-y: auto;
      max-height: 90%;
      box-shadow: 0 0 15px rgba(0,0,0,0.5);
    }

    .navy {
      background: radial-gradient(circle, navy, #001f3f);
    }

    .lemon {
      background: radial-gradient(circle, #ccff00, #99cc00);
    }

    .red {
      background: radial-gradient(circle, red, darkred);
    }

    /* Rotations with different starting angles */
    .orbit-1 {
      animation: rotate1 20s linear infinite;
    }

    .orbit-2 {
      animation: rotate2 30s linear infinite;
    }

    .orbit-3 {
      animation: rotate3 40s linear infinite;
    }

    .orbit-4 {
      animation: rotate4 50s linear infinite;
    }

    .orbit > .planet {
      animation: inherit;
    }

    @keyframes rotate1 {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    @keyframes rotate2 {
      0% { transform: rotate(90deg); }
      100% { transform: rotate(450deg); }
    }

    @keyframes rotate3 {
      0% { transform: rotate(180deg); }
      100% { transform: rotate(540deg); }
    }

    @keyframes rotate4 {
      0% { transform: rotate(270deg); }
      100% { transform: rotate(630deg); }
    }

    .orbit > .planet::before {
      content: "";
      display: block;
      transform: translateX(var(--radius));
    }

    .planet-content {
      background: rgba(255, 255, 255, 0.85);
      color: black;
      padding: 8px;
      border-radius: 10px;
      overflow-y: auto;
      max-height: 100%;
      width: 90%;
      box-shadow: inset 0 0 5px rgba(0,0,0,0.3);
    }

    .planet-content strong {
      display: block;
      font-size: 16px;
      margin-bottom: 6px;
      color: #000;
      text-transform: uppercase;
      text-align: center;
    }

    .planet-content div {
      margin-bottom: 4px;
    }

  </style>
</head>
<body>
  <div class="solar-system">
    <div class="sun"></div>

    <!-- Orbit 1 - Repositories -->
    <div class="orbit orbit-1" style="width: 300px; height: 300px;">
      <div class="planet navy" style="width: 50px; height: 50px; --radius: 300px;">
        <div class="planet-content" id="repos"></div>
      </div>
    </div>

    <!-- Orbit 2 - PRs -->
    <div class="orbit orbit-2" style="width: 400px; height: 400px;">
      <div class="planet lemon" style="width: 70px; height: 70px; --radius: 400px;">
        <div class="planet-content" id="prs"></div>
      </div>
    </div>

    <!-- Orbit 3 - Merged PRs -->
    <div class="orbit orbit-3" style="width: 500px; height: 500px;">
      <div class="planet red" style="width: 75px; height: 75px; --radius: 500px;">
        <div class="planet-content" id="merges"></div>
      </div>
    </div>

    <!-- Orbit 4 - Closed PRs -->
    <div class="orbit orbit-4" style="width: 600px; height: 600px;">
      <div class="planet lemon" style="width: 100px; height: 100px; --radius: 600px;">
        <div class="planet-content" id="closed-prs"></div>
      </div>
    </div>
  </div>

  <script>
    const token = "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"; // ⚠️ Do NOT expose this in production!
    const username = "SHISKEBAB";

    const headers = {
      Authorization: `token ${token}`,
    };

    async function fetchAndDisplay(endpoint, elementId, label) {
      try {
        const res = await fetch(endpoint, { headers });
        const data = await res.json();
        const container = document.getElementById(elementId);

        const items = data.items || data; // Some responses use `items`

        container.innerHTML = `<strong>${label}</strong><br>` +
          items.slice(0, 6).map(item =>
            `<div>• ${item.name || item.title}</div>`
          ).join("");
      } catch (error) {
        console.error(`Error fetching ${label}:`, error);
        document.getElementById(elementId).innerHTML = `<strong>${label}</strong><br>Error loading`;
      }
    }

    fetchAndDisplay(`https://api.github.com/users/${username}/repos`, "repos", "Repositories");
    fetchAndDisplay(`https://api.github.com/search/issues?q=author:${username}+type:pr`, "prs", "Pull Requests");
    fetchAndDisplay(`https://api.github.com/search/issues?q=author:${username}+type:pr+is:merged`, "merges", "Merged PRs");
    fetchAndDisplay(`https://api.github.com/search/issues?q=author:${username}+type:pr+is:closed`, "closed-prs", "Closed PRs");
  </script>
</body>
</html>
